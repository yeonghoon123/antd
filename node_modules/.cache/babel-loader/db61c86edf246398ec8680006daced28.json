{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\uAE40\\uC601\\uD6C8/Desktop/antd-practice/antd-prac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/\\uAE40\\uC601\\uD6C8/Desktop/antd-practice/antd-prac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/\\uAE40\\uC601\\uD6C8/Desktop/antd-practice/antd-prac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/\\uAE40\\uC601\\uD6C8/Desktop/antd-practice/antd-prac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/\\uAE40\\uC601\\uD6C8/Desktop/antd-practice/antd-prac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState}from'react';import emailjs from\"emailjs-com\";import{Button}from'antd';import'antd/dist/antd.css';import'./totalContent.css';import CompanyInf from'./totalcontentComponent/companyInformation';import ProposerInf from'./totalcontentComponent/proposerInformation';import LawerInf from'./totalcontentComponent/lawerInformation';export default function TotalContent(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formdata=_useState2[0],setFormdata=_useState2[1];var getValue=function getValue(event){var target=event.target;var name=target.name;var value=target.value;setFormdata(_objectSpread(_objectSpread({},formdata),{},_defineProperty({},name,value)));};var playValue=function playValue(value){setFormdata(_objectSpread(_objectSpread({},formdata),{},{\"play\":value}));};var timeValue=function timeValue(value){setFormdata(_objectSpread(_objectSpread({},formdata),{},{\"time\":value}));};var lawerValue=function lawerValue(value){setFormdata(_objectSpread(_objectSpread({},formdata),{},{\"lawer\":value}));};function submitData(){return _submitData.apply(this,arguments);}function _submitData(){_submitData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var xhr,payload,content,content2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(formdata);if(formdata.companyName!==null&&formdata.enquiryName!==null&&formdata.number!==null){//웹훅 보내는 코드\nxhr=new XMLHttpRequest();xhr.open(\"POST\",'https://wh.jandi.com/connect-api/webhook/18007791/2ee1e9fdb8febe410ab4734d7d46d211',false);//Send the proper header information along with the request\nxhr.setRequestHeader(\"Content-Type\",\"application/json\");xhr.setRequestHeader(\"Accept\",\"application/vnd.tosslab.jandi-v2+json\");xhr.onreadystatechange=function(){// Call a function when the state changes.\nif(this.readyState===XMLHttpRequest.DONE&&this.status===200){// Request finished. Do processing here.\n}};payload={\"body\":\"[[노무사 문의]](http://url_to_text) 노무사 신청이 들어왔습니다.\",\"connectColor\":\"#FAC11B\",\"connectInfo\":[{\"title\":\"이름\",\"description\":formdata.enquiryName},{\"title\":\"전화번호\",\"description\":formdata.number},{\"title\":\"의뢰한 노무사님\",\"description\":formdata.lawer},{\"title\":\"용건\",\"description\":formdata.play},{\"title\":\"시간\",\"description\":formdata.time}]};console.log(JSON.stringify(payload));// xhr.send(JSON.stringify(payload));\n//이메일 보내는 곳\ncontent={from_name:formdata.enquiryName,lawer:formdata.lawer,play:formdata.play,email:formdata.email};content2={from_name:formdata.enquiryName,lawer:formdata.lawer,play:formdata.play};emailjs.init(\"user_nORNSxbA9Ew8k6aTRsN9U\");emailjs.send(\"andy@jober.io\",\"template_gi6fgh1\",content);emailjs.send(\"andy@jober.io\",\"template_xoixqdj\",content2).then(function(response){console.log(\"SUCCESS. status=%d, text=%s\",response.status,response.text);},function(err){console.log(\"FAILED. error=\",err);});setTimeout(function(){document.location.href=\"/\";debugger;},2000);}case 2:case\"end\":return _context.stop();}}},_callee);}));return _submitData.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"totalContent_TotalContainer\",children:[/*#__PURE__*/_jsx(CompanyInf,{getValue:getValue}),/*#__PURE__*/_jsx(ProposerInf,{getValue:getValue}),/*#__PURE__*/_jsx(LawerInf,{getValue:getValue,playValue:playValue,timeValue:timeValue,lawerValue:lawerValue}),/*#__PURE__*/_jsx(Button,{type:\"primary\",className:\"totalContent_SubmitBtn\",onClick:submitData,children:\"\\uC2E0\\uCCAD\\uC11C \\uC81C\\uCD9C\\uD558\\uAE30\"})]})})});}","map":{"version":3,"sources":["C:/Users/김영훈/Desktop/antd-practice/antd-prac/src/totalcontent/totalContent.js"],"names":["React","useState","emailjs","Button","CompanyInf","ProposerInf","LawerInf","TotalContent","formdata","setFormdata","getValue","event","target","name","value","playValue","timeValue","lawerValue","submitData","console","log","companyName","enquiryName","number","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","payload","lawer","play","time","JSON","stringify","content","from_name","email","content2","init","send","then","response","text","err","setTimeout","document","location","href"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport emailjs from \"emailjs-com\"\r\nimport { Button } from 'antd'\r\nimport 'antd/dist/antd.css';\r\nimport './totalContent.css'\r\nimport CompanyInf from './totalcontentComponent/companyInformation'\r\nimport ProposerInf from './totalcontentComponent/proposerInformation'\r\nimport LawerInf from './totalcontentComponent/lawerInformation'\r\n\r\n\r\nexport default function TotalContent() {\r\n    const [formdata, setFormdata] = useState({});\r\n    const getValue = event => {\r\n        const target = event.target\r\n        const name = target.name\r\n        const value = target.value\r\n        setFormdata({\r\n            ...formdata,\r\n            [name]: value\r\n        })\r\n    }\r\n    const playValue = (value) => {\r\n        setFormdata({\r\n            ...formdata,\r\n            \"play\": value\r\n        })\r\n    }\r\n    const timeValue = (value) => {\r\n        setFormdata({\r\n            ...formdata,\r\n            \"time\": value\r\n        })\r\n    }\r\n    const lawerValue = (value) => {\r\n        setFormdata({\r\n            ...formdata,\r\n            \"lawer\": value\r\n        })\r\n    }\r\n\r\n\r\n\r\n    async function submitData() {\r\n        console.log(formdata)\r\n\r\n        if (formdata.companyName !== null && formdata.enquiryName !== null && formdata.number !== null) {\r\n            //웹훅 보내는 코드\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(\"POST\", 'https://wh.jandi.com/connect-api/webhook/18007791/2ee1e9fdb8febe410ab4734d7d46d211', false);\r\n\r\n            //Send the proper header information along with the request\r\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n            xhr.setRequestHeader(\"Accept\", \"application/vnd.tosslab.jandi-v2+json\");\r\n\r\n            xhr.onreadystatechange = function () { // Call a function when the state changes.\r\n                if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\r\n                    // Request finished. Do processing here.\r\n                }\r\n            }\r\n\r\n            var payload = {\r\n                \"body\": \"[[노무사 문의]](http://url_to_text) 노무사 신청이 들어왔습니다.\",\r\n                \"connectColor\": \"#FAC11B\",\r\n                \"connectInfo\": [{\r\n                    \"title\": \"이름\",\r\n                    \"description\": formdata.enquiryName\r\n                },\r\n                {\r\n                    \"title\": \"전화번호\",\r\n                    \"description\": formdata.number\r\n\r\n                }, {\r\n                    \"title\": \"의뢰한 노무사님\",\r\n                    \"description\": formdata.lawer\r\n                }, {\r\n                    \"title\": \"용건\",\r\n                    \"description\": formdata.play\r\n                },\r\n                {\r\n                    \"title\": \"시간\",\r\n                    \"description\": formdata.time\r\n                }]\r\n            }\r\n            console.log(JSON.stringify(payload))\r\n            // xhr.send(JSON.stringify(payload));\r\n            //이메일 보내는 곳\r\n            let content =\r\n            {\r\n                from_name: formdata.enquiryName,\r\n                lawer: formdata.lawer,\r\n                play: formdata.play,\r\n                email: formdata.email\r\n            }\r\n            let content2 =\r\n            {\r\n                from_name: formdata.enquiryName,\r\n                lawer: formdata.lawer,\r\n                play: formdata.play,\r\n            }\r\n\r\n            emailjs.init(\"user_nORNSxbA9Ew8k6aTRsN9U\");\r\n            emailjs.send(\"andy@jober.io\", \"template_gi6fgh1\", content)\r\n            emailjs.send(\"andy@jober.io\", \"template_xoixqdj\", content2)\r\n                .then(function (response) {\r\n                    console.log(\"SUCCESS. status=%d, text=%s\", response.status, response.text);\r\n                }, function (err) {\r\n                    console.log(\"FAILED. error=\", err);\r\n                })\r\n            setTimeout(() => {\r\n                document.location.href = \"/\"\r\n                debugger\r\n            }, 2000);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form>\r\n                <div className=\"totalContent_TotalContainer\">\r\n                    <CompanyInf getValue={getValue} />\r\n                    <ProposerInf getValue={getValue} />\r\n                    <LawerInf getValue={getValue} playValue={playValue} timeValue={timeValue} lawerValue={lawerValue} />\r\n                    <Button type=\"primary\" className=\"totalContent_SubmitBtn\" onClick={submitData}>신청서 제출하기</Button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}